{% extends 'common/base.html' %}
{% load url from future %}

{% block content %}

<div class="well">

<h2><strong>{{group.name}}</strong> </h2>
<h4> Review Carbon Aggregation Group</h4>
<p> Description: {{group.description}} </p>


<h4> Properties ({{group.get_properties|length}})</h4>
<ul>
{% for prop in group.get_properties %}
  <li> {{ prop.name }} (<em>{{ prop.user.username }}</em>)
    <ul>
        <li>shared scenario: {{ prop.shared_scenario }}</li>
    </ul>
  </li>
{% endfor %}
</ul>

<h4> Aggregate Stats </h4>
<ul>
{% with group.aggregate_stats as stats %}
{% for stat, val in stats.items %}
  <li> {{ stat }}: {{val}} </li>
{% endfor %}
{% endwith %}
</ul>

<h4> Group Members ({{group.get_accepted_users|length}})</h4>
<ul>
{% for member in group.get_accepted_users %}
  <li> {{ member.username }} </li>
{% endfor %}
</ul>

<h4> Pending Members ({{group.get_pending_users|length}})</h4>
<ul>
{% for member in group.get_pending_users %}
  <li> 
    {{ member.username }} 
    <form action="#" method="POST">
        <input name="user_id" value={{ member.id }} type="hidden">
        <select name="membership_status">
            <option value='pending' selected=true>------</option>
            <option value='accepted'>Accept</option>
            <option value='rejected'>Reject</option>
        </select>
        <input type="submit" value="submit">
    <form>
  </li>
{% endfor %}
</ul>

</div>

{% endblock content %}





