{% block panel %}
<style>

.tab-content {
    background-color: white;
    padding: 12px;
}
.btn-controls {
    padding: 5px;
}
.content {
    line-height: 1;
}
</style>

<form class="form-horizontal" id="scenario-form" method="POST">
    <ul class="nav nav-tabs" id="myTab">
        <li class="active">
            <a href="#scenario-edit-spatial-content" id="scenario-edit-spatial-tab" data-toggle="tab">Step 1: Spatial Contraints</a>
        </li>
        <li>
            <a href="#scenario-edit-rx-content" id="scenario-edit-rx-tab" data-toggle="tab">Step 2: Silvicultural Prescriptions</a>
        </li>
        <li>
            <a href="#scenario-edit-objectives-content" id="scenario-edit-objectives-tab" data-toggle="tab">Step 3: Objectives</a>
        </li>
    </ul>
    
    <div class="tab-content">

        <div class="tab-pane active" id="scenario-edit-spatial-content">

            <div class="alert alert-info">
                <strong>Spatial Constraints</strong> can be applied to your property to ensure certain geographic 
                areas are managed properly. <br><br> For example, you could apply <em>Riparian Buffers</em> if you want 
                to ensure that streams are managed according to state regulations. 
            </div>

            <div class="control-group">
                <label for="id_buffer" class="control-label"> 
                    <strong>Riparian buffers</strong>
                </label>
                <div class="controls">
                    <label class="radio">
                      <input type="radio" name="optionsRadios" id="optionsRadios0" value="option0">
                      None (Riparian boundaries are already defined in my stand boundaries)
                    </label>
                    <label class="radio">
                      <input type="radio" name="optionsRadios" id="optionsRadios1" value="option1">
                      Recommended by NWFP
                    </label>
                    <label class="radio">
                      <input type="radio" name="optionsRadios" id="optionsRadios2" value="option2">
                      Minimum Regulatory Buffers
                    </label>
                    <label class="radio">
                      <input type="radio" name="optionsRadios" id="optionsRadios3" value="option3">
                      Regulatory Buffers + 50%
                    </label>
                </div>
            </div>
            <!--
            <div class="pull-right">
                <button class="btn primary">Apply Spatial Constraints</button>
                <button class="btn cancel">Cancel</button>
            </div>
            -->
        </div>

        <div class="tab-pane" id="scenario-edit-rx-content">
            <div data-bind="visible: selectedRx, with: selectedRx">
                <form>
                  <fieldset>
                    <legend data-bind="text: id">New Prescription</legend>
                    <div class="control-group">
                      <label class="control-label">Name</label>
                      <div class="controls">
                        <input type="text" class="input-xlarge" data-bind="value: name">
                        <!--<p class="help-block">Supporting help text</p>-->
                      </div>
                    </div>
                    <div class="control-group">
                      <label class="control-label">Description</label>
                      <div class="controls">
                        <input type="text" class="input-xlarge" data-bind="value: description">
                        <!--<p class="help-block">Supporting help text</p>-->
                      </div>
                    </div>
                    <button class="btn" data-bind="click: $parent.saveRx">save</button>
                  </fieldset>
                </form>
                
            </div>
            <div data-bind="visible: ! (newRx() || selectedRx())">
                <div class="btn-group pull-right btn-controls">
                    <a class="btn" data-bind="click: addNewRx">add new prescription</a>
                </div>
                <h3>Silvicultural Prescriptions</h3>
                
                <table class="table table-condensed table-bordered">
                    <tbody data-bind="foreach: prescriptionList">
                        <tr class="scenario-row" rel="popover" data-bind="style: { 'background': color }">
                            <td> 
                                <h5><span data-bind="text: name">RX Name</span></h5>
                                <span data-bind="text: description">RX Description</span>
                                <div class="pull-right">
                                    <button class="btn btn-mini" href="#">
                                        <i class="icon-edit"></i></button>
                                    <button href="#" class="btn btn-mini" data-bind="click: $parent.applyRx, enable: $parent.selectedFeatures">
                                        <i class="icon-share"></i></button>
                                </div>
                                <p>
                                </p><div class="scenario-details hide">
                                    <div>
                                        <dl class="dl-horizontal">
                                            <dt>Target Carbon?</dt>
                                            <dd>false</dd>
                                            <dt>Target Annual Cut</dt>
                                            <dd>2000</dd>
                                            <dt>Target Site Diversity</dt>
                                            <dd></dd>
                                            <dt>Target Mature Age Class</dt>
                                            <dd>1</dd>
                                        </dl>
                                    </div>
                                </div>
                                <p></p>
                            </td>
                            
                        </tr>
                    </tbody>
                </table>
            </div>
            <div data-bind="visible: newRx">
                <div id="tree-window">
                    <div id="tree-slider"></div>
                </div>
                <div class="pull-right">
                    <button class='btn btn-large' data-bind="click: function () { newRx(false) }" style="margin-top: 10px">done</button>
                </div>
            </div>
        </div>

        <div class="tab-pane fade" id="scenario-edit-objectives-content">
            {% for hidden in form.hidden_fields %}
                {{hidden.errors}} 
                {{hidden}}
            {% endfor %}

            {% for field in form.visible_fields %}
            <div class="control-group">
                {{field.errors}} 
                <label for="{{field.auto_id}}" class="control-label"> 
                    <strong>{{ field.label }}</strong><p class="muted">{{field.help_text}}</p></label>
                <div class="controls">
                {{ field }}
                </div>
            </div>
            {% endfor %}
            <div class="control-group pull-right">
                <div class="controls">
                    <button class="btn btn-primary submit">Submit Scenario</button>
                    <button class="btn cancel">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</form>
{% endblock panel %}
